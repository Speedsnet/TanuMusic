# Netscape HTTP Cookie File
# http://curl.haxx.se/rfc/cookie_spec.html
# This is a generated file!  Do not edit.

.youtube.com TRUE / TRUE 1728541335 GPS 1
.youtube.com TRUE / TRUE 1763099978 HSID AG0hTYoakQG5rxO7K
.youtube.com TRUE / TRUE 1763099978 SSID A6amv3niB8oNJuEMQ
.youtube.com TRUE / TRUE1763099978 APISID OHfHKB9Pw__b7Ckz/AXhU9JRbLaC9kHsaI
.youtube.com TRUE / TRUE 1763099978 SAPISID L-RGHpLCt6-Bi0Oc/AxJdIX68xtu1sClkT
.youtube.com TRUE / TRUE 1763099978 __Secure-1PAPISID L-RGHpLCt6-Bi0Oc/AxJdIX68xtu1sClkT
.youtube.com TRUE / TRUE 1763099978 __Secure-3PAPISID L-RGHpLCt6-Bi0Oc/AxJdIX68xtu1sClkT
.youtube.com TRUE / TRUE 1760075973 __Secure-1PSIDTS sidts-CjEBQlrA-PS9m20YrAT42-3-vHv6JFII9QEEru-giND-2FrBHuP4oR97HtN9WVqkwjSYEAA
.youtube.com TRUE / TRUE 1760075973 __Secure-3PSIDTS sidts-CjEBQlrA-PS9m20YrAT42-3-vHv6JFII9QEEru-giND-2FrBHuP4oR97HtN9WVqkwjSYEAA
.youtube.com TRUE / TRUE 1763099978 LOGIN_INFO AFmmF2swRAIgBzN74Vzeh9szmY7cArQc9yw_8iMJmWm594rWhLVxqp8CIAhO-8zc7SkzMoRs6PKyWBD_4LRAZis_4EDWzUh68mE2:QUQ3MjNmeFVBbWVMNEVzTG1GOE1meXBOSjhwSE5FcmlaeHdCN1cxTi1nZU9URWxIdjVsdGFPVVM0VHVfNkNTRjZKRkdJblNCYnkwbjJBa2kxcmc1Ry13bHRRM1VyV1JzVkg3N1F3Sk44cUV4RERscktfaGNFQ2lwZ010cmtVTHcwVVM2RjBfOEwzSDFXU21WTGZKck9JX3o2LTh1TlNLa0V3
.youtube.com TRUE / FALSE 1763099978 SID g.a000owikU2qSzDxae6XPa7gZjKexDbTOqdehAf-6P01lY2vxk4CYqB-Cmci-wEaDm6naaVy9SwACgYKAdQSARQSFQHGX2Mi_DdB5vTqRq1QvSrHQLGPxBoVAUF8yKr57FilMJYyG6XVMNYxV8kj0076
.youtube.com TRUE / TRUE 1763099978 __Secure-1PSID g.a000owikU2qSzDxae6XPa7gZjKexDbTOqdehAf-6P01lY2vxk4CYTsVlMVPH0wL7-LXi3r77EQACgYKAYQSARQSFQHGX2MiUZWmYwCN36Lde-sgqi9nUhoVAUF8yKqHrCiuoXTQ-FDCvbXwrEZH0076
.youtube.com TRUE / TRUE 1763099978 __Secure-3PSID g.a000owikU2qSzDxae6XPa7gZjKexDbTOqdehAf-6P01lY2vxk4CYXjhgOzMB_EO7wwNkD1EJbQACgYKAYoSARQSFQHGX2Mi08ZRKtnvcRpLfbJoUauQPhoVAUF8yKpXgjtJkZJ_gcPpjvBpdOui0076
.youtube.com TRUE / TRUE 1763100068 PREF f6=40000000&tz=Asia.Calcutta&f7=100
.youtube.com TRUE / FALSE 1760076145 SIDCC AKEyXzUmWtbwYJ_hS__rlaKUw8PHbdDL8ulLyX2EEbuGahcRDN1dmtC63YFXPZq1izjoASEv
.youtube.com TRUE / TRUE 1760076145 __Secure-1PSIDCC AKEyXzWJ2L-z7v62aQBZa9XkqMAEsnmbm5fSESwCa8Hsu6D7KMY7WxO9Hk7XFVvqCD-MT9E6
.youtube.com TRUE / TRUE 1760076145 __Secure-3PSIDCC AKEyXzVeRs0LjDlzk4UPm4OTh0I8MojPyTmfsSKgEvhaFmXBZRvd4i2eMTVLYBXsKhMLyiy1

from selenium import webdriver
from selenium.webdriver.chrome.options import Options
import os

options = Options()

prefs = {'exit_type': 'Normal'}
options.add_experimental_option("prefs", {'profile': prefs})
options.add_argument(f"user-data-dir={os.getcwd()}/chrome")
options.add_argument("user-agent=Mozilla/5.0 (iPhone; CPU iPhone OS 10_3 like Mac OS X) AppleWebKit/602.1.50 (KHTML, like Gecko) CriOS/56.0.2924.75 Mobile/14E5239e Safari/602.1")
options.add_argument("no-sandbox")
options.add_argument('start-maximized')
options.add_argument('disable-infobars')
options.add_argument("--autoplay-policy=no-user-gesture-required")
options.add_experimental_option("excludeSwitches", ['enable-automation'])


driver = webdriver.Chrome(options=options)

def save_cookies_to_netscape_file(cookies, output_file):
    with open(output_file, 'w') as f:
        f.write("# Netscape HTTP Cookie File\n")
        f.write("# This is a generated file! Do not edit.\n\n")
        f.write("# domain  include_subdomains  path  secure  expiration_date  name  value\n")
        
        for cookie in cookies:
            # Determine the correct attribute name for expiry based on Selenium version or browser
            expiry = cookie.get('expiry') or cookie.get('expires') or 0
            
            f.write(f"{cookie['domain']}\t")
            f.write("TRUE\t")  # include_subdomains
            f.write(f"{cookie['path']}\t")
            f.write("TRUE\t" if cookie.get('secure') else "FALSE\t")
            f.write(f"{int(expiry)}\t")  # expiration_date
            f.write(f"{cookie['name']}\t{cookie['value']}\n")

    return f"Cookies have been saved to {output_file}"

while True:
 user_input = input("Login to your YouTube account play a video [Completed] (Y/N)")
 if user_input == "Y":
   break
  
print(f'Hello, Logged in to your account..!')


while True:
 user_input = input("enter a name for your cookies file: ")
 if user_input:
   output_file = f"{user_input}.txt"
   break

cookies = driver.get_cookies()
output_file = f"{os.getcwd()}/{output_file}"
save_cookies_to_netscape_file(cookies, output_file)
print("Cookies saved to:",output_file)


driver.quit()
